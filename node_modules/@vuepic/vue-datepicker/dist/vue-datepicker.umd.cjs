(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";const Se=(t,r)=>{const l=t.__vccOpts||t;for(const[n,m]of r)l[n]=m;return l},an={},on={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},sn=[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1)];function cn(t,r){return e.openBlock(),e.createElementBlock("svg",on,sn)}const Le=Se(an,[["render",cn]]),un={},dn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},mn=[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function fn(t,r){return e.openBlock(),e.createElementBlock("svg",dn,mn)}const pn=Se(un,[["render",fn]]),yn={},hn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},gn=[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function kn(t,r){return e.openBlock(),e.createElementBlock("svg",hn,gn)}const Mt=Se(yn,[["render",kn]]),wn={},Cn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},bn=[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1)];function Sn(t,r){return e.openBlock(),e.createElementBlock("svg",Cn,bn)}const Bt=Se(wn,[["render",Sn]]),Mn={},Bn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Dn=[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1)];function $n(t,r){return e.openBlock(),e.createElementBlock("svg",Bn,Dn)}const Dt=Se(Mn,[["render",$n]]),Vn={},Nn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Pn=[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function An(t,r){return e.openBlock(),e.createElementBlock("svg",Nn,Pn)}const $t=Se(Vn,[["render",An]]),Tn={},_n={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},En=[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function Rn(t,r){return e.openBlock(),e.createElementBlock("svg",_n,En)}const Vt=Se(Tn,[["render",Rn]]),Nt=(t,r)=>{const l=s.parse(t,r.slice(0,t.length),new Date);return s.isValid(l)&&s.isDate(l)?l:null},et=(t,r)=>{if(typeof r=="string")return Nt(t,r);if(Array.isArray(r)){let l=null;for(let n=0;n<r.length&&(l=Nt(t,r[n]),!l);n++);return l}return typeof r=="function"?r(t):null},me=t=>{let r=new Date(JSON.parse(JSON.stringify(t)));return r=s.setHours(r,0),r=s.setMinutes(r,0),r=s.setSeconds(r,0),r=s.setMilliseconds(r,0),r},tt=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,ie=(t,r,l,n)=>{let m=t?new Date(t):new Date;return(r||r===0)&&(m=s.setHours(m,+r)),(l||l===0)&&(m=s.setMinutes(m,+l)),(n||n===0)&&(m=s.setSeconds(m,+n)),s.setMilliseconds(m,0)},On=t=>{const r=s.addMonths(t,1);return{month:s.getMonth(r),year:s.getYear(r)}},Me=(t,r,l)=>{let n=t?new Date(t):new Date;return(r||r===0)&&(n=s.setMonth(n,r)),l&&(n=s.setYear(n,l)),n},Pt=(t,r)=>t?`HH:mm${r?":ss":""}`:`hh:mm${r?":ss":""} aa`,At=(t,r,l,n,m,p,y,h)=>t||(n?"MM/yyyy":m?Pt(r,l):p?"MM/dd/yyyy":y?"yyyy":h?`MM/dd/yyyy, ${Pt(r,l)}`:"MM/dd/yyyy"),nt=t=>{const r=t||new Date;return{hours:s.getHours(r),minutes:s.getMinutes(r),seconds:s.getSeconds(r)}},je=t=>({month:s.getMonth(t),year:s.getYear(t)}),Tt=t=>Array.isArray(t)?[je(t[0]),t[1]?je(t[1]):null]:je(t),lt=t=>Array.isArray(t)?[nt(t[0]),nt(t[1])]:nt(t),rt=(t,r,l)=>l?s.format(t,r,{locale:l}):s.format(t,r),Ae=(t,r,l,n,m)=>Array.isArray(t)?`${rt(t[0],r,l)} ${m&&!t[1]?"":n||"-"} ${t[1]?rt(t[1],r,l):""}`:rt(t,r,l),ae=(t,r)=>!t||!r?!1:s.isAfter(me(t),me(r)),re=(t,r)=>!t||!r?!1:s.isBefore(me(t),me(r)),F=(t,r)=>!t||!r?!1:s.isEqual(me(t),me(r)),In=(t,r)=>s.add(s.set(new Date,t),r),Yn=(t,r)=>s.sub(s.set(new Date,t),r),at=t=>s.set(new Date,{hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),_t=t=>s.set(new Date,{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Te=(t,r,l,n)=>{if(!t)return!0;if(n){const m=l==="max"?s.isBefore(t,r):s.isAfter(t,r),p={seconds:0,milliseconds:0};return m||s.isEqual(s.set(t,p),s.set(r,p))}return l==="max"?t.getTime()<=r.getTime():t.getTime()>=r.getTime()},ot=(t,r,l,n,m)=>{let p=!0;if(!t)return!0;const y=!m&&!n?Array.isArray(t)?[t[0]?at(t[0]):null,t[1]?at(t[1]):null]:at(t):t;if(r||n){const h=r?_t(r):new Date(n);Array.isArray(y)?p=Te(y[0],h,"max",!!n)&&Te(y[1],h,"max",!!n):p=Te(y,h,"max",!!n)}if(l||m){const h=l?_t(l):new Date(m);Array.isArray(y)?p=Te(y[0],h,"min",!!m)&&Te(y[1],h,"min",!!m)&&p:p=Te(y,h,"min",!!m)&&p}return p},vn=(t,r,l)=>{let n=!0;return r&&l&&(n=ae(new Date(t),new Date(r))&&re(new Date(t),new Date(l))),r&&(n=ae(new Date(t),new Date(r))),l&&(n=re(new Date(t),new Date(l))),n},fe=t=>t instanceof Date?t:s.parseISO(t),st=(t,r)=>{if(r){const n=new Date().getTimezoneOffset()*6e4;return new Date(t.getTime()-n).toISOString()}const l=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(l).toISOString()},Et=(t,r,l)=>t&&t[0]&&t[1]?ae(l,t[0])&&re(l,t[1]):t&&t[0]&&r?ae(l,t[0])&&re(l,r)||re(l,t[0])&&ae(l,r):!1,Ue=(t,r)=>{const l=s.startOfWeek(t,{weekStartsOn:r}),n=s.endOfWeek(t,{weekStartsOn:r});return[l,n]},Rt=(t,r)=>Array.isArray(r)?r.some(l=>F(fe(new Date(l)),fe(t))):r(t),Kn=(t,r,l,n,m,p,y,h)=>{const k=l?ae(fe(t),fe(l)):!1,M=r?re(fe(t),fe(r)):!1,N=Rt(t,n),E=(p.months.length?p.months.map(a=>+a):[]).includes(s.getMonth(t)),A=y.length?y.some(a=>+a===s.getDay(t)):!1,v=m.length?!m.some(a=>F(fe(a),fe(t))):!1,$=s.getYear(t),J=$<+h[0]||$>+h[1];return!(k||M||N||E||J||A||v)},Ot=(t,r,l,n,m,p,y)=>({validate:k=>Kn(k,t,r,l,n,m,p,y)}),he=Symbol(),We=Symbol(),it=Symbol(),It=Symbol(),Yt=Symbol(),ge=Symbol(),ct={disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1}},ut={range:{type:Boolean,default:!1},uid:{type:String,default:null}},vt={enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1}},Kt={...vt,fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1}},zt={name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null}},Ht={minTime:{type:Object,default:null},maxTime:{type:Object,default:null}},dt={minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null}},Lt={selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},...Ht},mt={monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1}},jt={locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null}},Ut={...Kt,...Lt,...mt,...dt,...jt,...ut,vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},teleportCenter:{type:Boolean,default:!1}},zn={...zt,...ct,...Ut,multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10}},Wt={range:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null}},Gt={...mt,...Wt,vertical:{type:Boolean,default:!1},month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:1}},Hn=["aria-label","aria-disabled","aria-readonly"],Ln={key:1,class:"dp__input_wrap"},jn=["id","name","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Un={key:2,class:"dp__input_icon"},Wn={key:4,class:"dp__clear_icon"},Gn=e.defineComponent({__name:"DatepickerInput",props:{...zt,...ct,...ut,inputValue:{type:String,default:""},inline:{type:Boolean,default:!1},isMenuOpen:{type:Boolean,default:!1},pattern:{type:String,default:""}},emits:["clear","open","update:inputValue","setInputDate","close","selectDate","setEmptyDate","toggle","focus-prev","focus","blur"],setup(t,{expose:r,emit:l}){const n=t,m=e.ref(),p=e.ref(null),y=e.ref(!1),h=e.inject(he),k=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:y.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),M=c=>{var Y;const{value:O}=c.target,{format:U,rangeSeparator:V}=n.textInputOptions;if(O!==""){if(((Y=n.textInputOptions)==null?void 0:Y.openMenu)&&!n.isMenuOpen&&l("open"),n.range){const[H,W]=O.split(`${V}`);if(H&&W){const G=et(H.trim(),U||n.pattern),z=et(W.trim(),U||n.pattern);m.value=G&&z?[G,z]:null}}else m.value=et(O,U||n.pattern);l("setInputDate",m.value)}else l("setInputDate",null),n.autoApply&&(l("setEmptyDate"),m.value=null);l("update:inputValue",O)},N=()=>{var c,O;((c=n.textInputOptions)==null?void 0:c.enterSubmit)&&tt(m.value)&&n.inputValue!==""?(l("setInputDate",m.value,!0),m.value=null):((O=n.textInputOptions)==null?void 0:O.enterSubmit)&&n.inputValue===""&&(m.value=null,l("clear"))},P=()=>{var c,O;((c=n.textInputOptions)==null?void 0:c.tabSubmit)&&tt(m.value)&&n.inputValue!==""?(l("setInputDate",m.value,!0),m.value=null):((O=n.textInputOptions)==null?void 0:O.tabSubmit)&&n.inputValue===""&&(m.value=null,l("clear"))},E=()=>{y.value=!0,l("focus")},A=c=>{var O;c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),n.textInput&&((O=n.textInputOptions)==null?void 0:O.openMenu)?n.isMenuOpen?n.textInputOptions.enterSubmit&&l("selectDate"):l("open"):n.textInput||l("toggle")},v=()=>{y.value=!1,n.isMenuOpen||l("blur"),n.autoApply&&n.textInput&&m.value&&(l("setInputDate",m.value),l("selectDate"),m.value=null)},$=()=>{l("clear")},J=c=>{n.textInput||c.preventDefault()};return r({focusInput:()=>{p.value&&p.value.focus({preventScroll:!0})}}),(c,O)=>(e.openBlock(),e.createElementBlock("div",{onClick:A,"aria-label":e.unref(h).input,role:"textbox","aria-multiline":"false","aria-disabled":c.disabled,"aria-readonly":c.readonly},[c.$slots.trigger&&!c.$slots["dp-input"]&&!t.inline?e.renderSlot(c.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!c.$slots.trigger&&(!t.inline||c.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",Ln,[c.$slots["dp-input"]&&!c.$slots.trigger&&!t.inline?e.renderSlot(c.$slots,"dp-input",{key:0,value:t.inputValue,onInput:M,onEnter:N,onTab:P,onClear:$}):e.createCommentVNode("",!0),c.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:p,id:c.uid?`dp-input-${c.uid}`:void 0,name:c.name,class:e.normalizeClass(e.unref(k)),placeholder:c.placeholder,disabled:c.disabled,readonly:c.readonly,required:c.required,value:t.inputValue,autocomplete:c.autocomplete,onInput:M,onKeydown:[e.withKeys(A,["enter"]),e.withKeys(P,["tab"])],onBlur:v,onFocus:E,onKeypress:J},null,42,jn)),c.$slots["input-icon"]&&!c.hideInputIcon?(e.openBlock(),e.createElementBlock("span",Un,[e.renderSlot(c.$slots,"input-icon")])):e.createCommentVNode("",!0),!c.$slots["input-icon"]&&!c.hideInputIcon&&!c.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Le),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),c.$slots["clear-icon"]&&t.inputValue&&c.clearable&&!c.disabled&&!c.readonly?(e.openBlock(),e.createElementBlock("span",Wn,[e.renderSlot(c.$slots,"clear-icon",{clear:$})])):e.createCommentVNode("",!0),c.clearable&&!c.$slots["clear-icon"]&&t.inputValue&&!c.disabled&&!c.readonly?(e.openBlock(),e.createBlock(e.unref(pn),{key:5,class:"dp__clear_icon dp__input_icons",onClick:e.withModifiers($,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,Hn))}}),Xn=(t,r,l)=>{const n=new Date(JSON.parse(JSON.stringify(t))),m=[];for(let p=0;p<7;p++){const y=s.addDays(n,p),h=s.getMonth(y)!==r;m.push({text:l&&h?"":y.getDate(),value:y,current:!h})}return m},qn=(t,r,l,n)=>{const m=[],p=new Date(r,t),y=new Date(r,t+1,0),h=s.startOfWeek(p,{weekStartsOn:l}),k=M=>{const N=Xn(M,t,n);if(m.push({days:N}),!m[m.length-1].days.some(P=>F(me(P.value),me(y)))){const P=s.addDays(M,7);k(P)}};return k(h),m},Jn=(t,r=3)=>{const l=[];for(let n=0;n<t.length;n+=r)l.push([t[n],t[n+1],t[n+2]]);return l},Zn=(t,r)=>{const l=[1,2,3,4,5,6,7].map(p=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${p}T00:00:00+00:00`)).slice(0,2)),n=l.slice(0,r),m=l.slice(r+1,l.length);return[l[r]].concat(...m).concat(...n)},Qn=t=>{const r=[];for(let l=+t[0];l<=+t[1];l++)r.push({value:+l,text:`${l}`});return r},Fn=(t,r)=>{const l=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(m=>{const p=m<10?`0${m}`:m;return new Date(`2017-${p}-01T00:00:00+00:00`)}).map((m,p)=>({text:l.format(m),value:p}))},xn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],el=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),tl=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),nl=t=>{function l(n){let m="";const p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",y=p.length;for(let h=0;h<n;h++)m+=p.charAt(Math.floor(Math.random()*y));return m+t}return l(5)},te=t=>{var l;const r=e.unref(t);return(l=r==null?void 0:r.$el)!=null?l:r},ll=t=>Object.assign({type:"dot"},t),Xt=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),rl=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month"},t),qt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,x=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ft=e.ref(null),Ge=e.ref(!1),pt=e.ref(!1),yt=e.ref(!1),ht=e.ref(!1),oe=e.ref(0),ne=e.ref(0),ke=()=>{const t=e.computed(()=>Ge.value?[...x.selectionGrid,x.actionRow].filter(a=>a.length):pt.value?[...x.timePicker[0],...x.timePicker[1],ht.value?[]:[ft.value],x.actionRow].filter(a=>a.length):yt.value?[...x.monthPicker,x.actionRow]:[x.monthYear,...x.calendar,x.time,x.actionRow].filter(a=>a.length)),r=a=>{oe.value=a?oe.value+1:oe.value-1;let c=null;t.value[ne.value]&&(c=t.value[ne.value][oe.value]),c||(oe.value=a?oe.value-1:oe.value+1)},l=a=>{if(ne.value===0&&!a||ne.value===t.value.length&&a)return;ne.value=a?ne.value+1:ne.value-1,t.value[ne.value]?t.value[ne.value]&&!t.value[ne.value][oe.value]&&oe.value!==0&&(oe.value=t.value[ne.value].length-1):ne.value=a?ne.value-1:ne.value+1},n=a=>{let c=null;t.value[ne.value]&&(c=t.value[ne.value][oe.value]),c?c.focus({preventScroll:!Ge.value}):oe.value=a?oe.value-1:oe.value+1},m=()=>{r(!0),n(!0)},p=()=>{r(!1),n(!1)},y=()=>{l(!1),n(!0)},h=()=>{l(!0),n(!0)},k=(a,c)=>{x[c]=a},M=(a,c)=>{x[c]=a},N=()=>{oe.value=0,ne.value=0};return{buildMatrix:k,buildMultiLevelMatrix:M,setTimePickerBackRef:a=>{ft.value=a},setSelectionGrid:a=>{Ge.value=a,N(),a||(x.selectionGrid=[])},setTimePicker:(a,c=!1)=>{pt.value=a,ht.value=c,N(),a||(x.timePicker[0]=[],x.timePicker[1]=[])},setTimePickerElements:(a,c=0)=>{x.timePicker[c]=a},arrowRight:m,arrowLeft:p,arrowUp:y,arrowDown:h,clearArrowNav:()=>{x.monthYear=[],x.calendar=[],x.time=[],x.actionRow=[],x.selectionGrid=[],x.timePicker[0]=[],x.timePicker[1]=[],Ge.value=!1,pt.value=!1,ht.value=!1,yt.value=!1,N(),ft.value=null},setMonthPicker:a=>{yt.value=a,N()}}},al=["aria-label"],ol={class:"dp__calendar_header",role:"row"},sl={key:0,class:"dp__calendar_header_item",role:"gridcell"},il=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),cl=["aria-label"],ul={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},dl={class:"dp__cell_inner"},ml=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],fl=e.createElementVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),pl=e.defineComponent({__name:"Calendar",props:{...Gt,...jt,mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},modeHeight:{type:[Number,String],default:255},specificMode:{type:Boolean,default:!1}},emits:["selectDate","setHoverDate","handleScroll","mount","handleSwipe"],setup(t,{expose:r,emit:l}){const n=t,m=e.ref(null),p=e.ref({bottom:"",left:"",transform:""}),y=e.ref([]),h=e.ref(null),k=e.ref(!0),M=e.inject(We),N=e.inject(he),P=e.inject(ge),E=e.ref(""),A=e.ref({startX:0,endX:0,startY:0,endY:0}),v=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):Zn(n.locale,+n.weekStart)),{buildMultiLevelMatrix:$}=ke();e.onMounted(()=>{l("mount",{cmp:"calendar",refs:y}),n.noSwipe||h.value&&(h.value.addEventListener("touchstart",W,{passive:!1}),h.value.addEventListener("touchend",G,{passive:!1}),h.value.addEventListener("touchmove",z,{passive:!1})),n.monthChangeOnScroll&&h.value&&h.value.addEventListener("wheel",u,{passive:!1})});const J=(i,w)=>{if(M!=null&&M.value){const R=me(Me(new Date,n.month,n.year));E.value=ae(me(Me(new Date,i,w)),R)?M.value[n.vertical?"vNext":"next"]:M.value[n.vertical?"vPrevious":"previous"],k.value=!1,e.nextTick(()=>{k.value=!0})}},a=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),c=e.computed(()=>i=>{const w=ll(i);return{dp__marker_dot:w.type==="dot",dp__marker_line:w.type==="line"}}),O=e.computed(()=>i=>F(i,m.value)),U=e.computed(()=>({dp__calendar:!0,dp__calendar_next:n.multiCalendars>0&&n.instance!==0})),V=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:null),Y=(i,w,R)=>{var q,_;if(l("setHoverDate",i),(_=(q=i.marker)==null?void 0:q.tooltip)!=null&&_.length){const Q=te(y.value[w][R]);if(Q){const{width:g,height:D}=Q.getBoundingClientRect();p.value={bottom:`${D}px`,left:`${g/2}px`,transform:"translateX(-50%)"},m.value=i.value}}},H=()=>{m.value=null},W=i=>{A.value.startX=i.changedTouches[0].screenX,A.value.startY=i.changedTouches[0].screenY},G=i=>{A.value.endX=i.changedTouches[0].screenX,A.value.endY=i.changedTouches[0].screenY,S()},z=i=>{i.preventDefault()},S=()=>{const i=n.vertical?"Y":"X";Math.abs(A.value[`start${i}`]-A.value[`end${i}`])>10&&l("handleSwipe",A.value[`start${i}`]>A.value[`end${i}`]?"right":"left")},b=(i,w,R)=>{i&&(Array.isArray(y.value[w])?y.value[w][R]=i:y.value[w]=[i]),P!=null&&P.value&&$(y.value,"calendar")},u=i=>{n.monthChangeOnScroll&&(i.preventDefault(),l("handleScroll",i))};return r({triggerTransition:J}),(i,w)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(U))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(V))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:h,class:e.normalizeClass(e.unref(a)),role:"grid","aria-label":e.unref(N).calendarWrap},[e.createElementVNode("div",ol,[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",sl,e.toDisplayString(i.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(R,q)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:q},[i.$slots["calendar-header"]?e.renderSlot(i.$slots,"calendar-header",{key:0,day:R,index:q}):e.createCommentVNode("",!0),i.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(R),1)],64))]))),128))]),il,e.createVNode(e.Transition,{name:E.value,css:!!e.unref(M)},{default:e.withCtx(()=>[k.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":e.unref(N).calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(R,q)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:q},[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",ul,[e.createElementVNode("div",dl,e.toDisplayString(t.getWeekNum(R.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(R.days,(_,Q)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:g=>b(g,q,Q),key:Q+q,"aria-selected":_.classData.dp__active_date||_.classData.dp__range_start||_.classData.dp__range_start,"aria-disabled":_.classData.dp__cell_disabled,tabindex:"0",onClick:e.withModifiers(g=>i.$emit("selectDate",_),["stop","prevent"]),onKeydown:e.withKeys(g=>i.$emit("selectDate",_),["enter"]),onMouseover:g=>Y(_,q,Q),onMouseleave:H},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",_.classData])},[i.$slots.day?e.renderSlot(i.$slots,"day",{key:0,day:+_.text,date:_.value}):e.createCommentVNode("",!0),i.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(_.text),1)],64)),_.marker?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(c)(_.marker)),style:e.normalizeStyle(_.marker.color?{backgroundColor:_.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(O)(_.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:e.normalizeStyle(p.value)},[e.createElementVNode("div",{class:"dp__tooltip_content",onClick:w[0]||(w[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.marker.tooltip,(g,D)=>(e.openBlock(),e.createElementBlock("div",{key:D,class:"dp__tooltip_text"},[i.$slots["marker-tooltip"]?e.renderSlot(i.$slots,"marker-tooltip",{key:0,tooltop:g,day:_.value}):e.createCommentVNode("",!0),i.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(g.color?{backgroundColor:g.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(g.text),1)],64))]))),128)),fl])],4)):e.createCommentVNode("",!0)],2)],40,ml))),128))]))),128))],8,cl)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],10,al))],4)],2))}}),yl=t=>typeof t=="object",Jt=(t,r)=>r,hl=t=>Array.isArray(t)&&t.length===2,gl=t=>Array.isArray(t),kl=t=>typeof t=="object",Oe=t=>Array.isArray(t),de=t=>Array.isArray(t),Xe=t=>Array.isArray(t)&&t.length===2,wl=(t,r)=>r?Array.isArray(t):Xe(t),Cl=t=>Array.isArray(t),bl=t=>typeof t=="string"||typeof t=="object"||typeof t=="number",Zt=t=>typeof t=="string",Sl={class:"dp__selection_preview"},Ml={class:"dp__action_buttons"},Bl=["onKeydown"],Dl=e.defineComponent({__name:"ActionRow",props:{...Lt,...dt,...Ht,...mt,...Wt,inline:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},enableTimePicker:{type:Boolean,default:!0}},emits:["closePicker","selectDate","invalid-select"],setup(t,{emit:r}){const l=t,{buildMatrix:n}=ke(),m=e.inject(Yt),p=e.inject(ge),y=e.ref(null),h=e.ref(null);e.onMounted(()=>{p!=null&&p.value&&n([te(y),te(h)],"actionRow")});const k=e.computed(()=>l.range&&!l.partialRange&&l.internalModelValue?l.internalModelValue.length===2:!0),M=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:!N.value||!P.value||!k.value})),N=e.computed(()=>l.enableTimePicker?ot(l.internalModelValue,l.maxTime,l.minTime,l.maxDate,l.minDate):!0),P=e.computed(()=>l.monthPicker?vn(l.internalModelValue,l.minDate,l.maxDate):!0),E=$=>Ae($,l.previewFormat,m==null?void 0:m.value),A=e.computed(()=>!l.internalModelValue||!l.menuMount?"":typeof l.previewFormat=="string"?Oe(l.internalModelValue)?l.internalModelValue.length===2&&l.internalModelValue[1]?l.multiCalendars>0?`${E(l.internalModelValue[0])} - ${E(l.internalModelValue[1])}`:[E(l.internalModelValue[0]),E(l.internalModelValue[1])]:l.multiDates?l.internalModelValue.map($=>`${E($)}`):l.modelAuto?`${E(l.internalModelValue[0])}`:`${E(l.internalModelValue[0])} -`:Ae(l.internalModelValue,l.previewFormat,m==null?void 0:m.value):l.timePicker?l.previewFormat(lt(l.internalModelValue)):l.monthPicker?l.previewFormat(je(l.internalModelValue)):l.previewFormat(l.internalModelValue)),v=()=>{N.value&&P.value&&k.value?r("selectDate"):r("invalid-select")};return($,J)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[e.createElementVNode("div",Sl,[$.$slots["action-preview"]?e.renderSlot($.$slots,"action-preview",{key:0,value:$.internalModelValue}):e.createCommentVNode("",!0),$.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(A))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(A)),1)],64)),Array.isArray(e.unref(A))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(A),(a,c)=>(e.openBlock(),e.createElementBlock("div",{key:c},e.toDisplayString(a),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",Ml,[$.$slots["action-select"]?e.renderSlot($.$slots,"action-select",{key:0,value:$.internalModelValue}):e.createCommentVNode("",!0),$.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:y,tabindex:"0",onClick:J[0]||(J[0]=a=>$.$emit("closePicker")),onKeydown:J[1]||(J[1]=e.withKeys(a=>$.$emit("closePicker"),["enter"]))},e.toDisplayString($.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(M)),tabindex:"0",onKeydown:e.withKeys(v,["enter"]),onClick:v,ref_key:"selectButtonRef",ref:h},e.toDisplayString($.selectText),43,Bl)],64))])],4))}}),$l={class:"dp__selection_grid_header"},Vl=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Nl=["aria-label","onKeydown"],Ie=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1}},emits:["update:modelValue","selected","toggle","reset-flow"],setup(t,{expose:r,emit:l}){const n=t,m=e.ref(!1),p=e.ref(null),y=e.ref(null),h=e.ref([]),k=e.inject(it,!1),M=e.inject(It,e.ref(!1)),N=e.inject(he),P=e.inject(ge),E=e.ref(),A=e.ref(),{setSelectionGrid:v,buildMultiLevelMatrix:$,setMonthPicker:J}=ke();e.onBeforeUpdate(()=>{p.value=null}),e.onMounted(()=>{e.nextTick().then(()=>G()),c(),a(!0)}),e.onUnmounted(()=>a(!1));const a=i=>{var w;P!=null&&P.value&&((w=n.headerRefs)!=null&&w.length?J(i):v(i))},c=()=>{const i=te(y);i&&(M.value||i.focus({preventScroll:!0}),m.value=i.clientHeight<i.scrollHeight)},O=e.computed(()=>({dp__overlay:!0})),U=e.computed(()=>({dp__overlay_col:!0})),V=e.computed(()=>n.items.map(i=>i.filter(w=>w).map(w=>{var _,Q,g;const R=n.disabledValues.some(D=>D===w.value)||W(w.value),q=(_=n.multiModelValue)!=null&&_.length?(Q=n.multiModelValue)==null?void 0:Q.some(D=>F(D,s.setYear(n.monthPicker?s.setMonth(new Date,w.value):new Date,n.monthPicker?n.year:w.value))):n.skipActive?!1:w.value===n.modelValue;return{...w,className:{dp__overlay_cell_active:q,dp__overlay_cell:!q,dp__overlay_cell_disabled:R,dp__overlay_cell_active_disabled:R&&q,dp__overlay_cell_pad:!0,dp__cell_in_between:(g=n.multiModelValue)!=null&&g.length?S(w.value):!1}}}))),Y=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:m.value,dp__button_bottom:k})),H=e.computed(()=>{var i,w;return{dp__overlay_container:!0,dp__container_flex:((i=n.items)==null?void 0:i.length)<=6,dp__container_block:((w=n.items)==null?void 0:w.length)>6}}),W=i=>{const w=n.maxValue||n.maxValue===0,R=n.minValue||n.minValue===0;return!w&&!R?!1:w&&R?+i>+n.maxValue||+i<+n.minValue:w?+i>+n.maxValue:R?+i<+n.minValue:!1},G=()=>{const i=te(p);if(i){const w=te(y);w&&(w.scrollTop=i.offsetTop-w.offsetTop-(w.getBoundingClientRect().height/2-i.getBoundingClientRect().height))}},z=i=>{!n.disabledValues.some(w=>w===i)&&!W(i)&&(l("update:modelValue",i),l("selected"))},S=i=>{const w=n.monthPicker?n.year:i;return Et(n.multiModelValue,s.setYear(n.monthPicker?s.setMonth(new Date,E.value||0):new Date,n.monthPicker?w:E.value||w),s.setYear(n.monthPicker?s.setMonth(new Date,i):new Date,w))},b=()=>{l("toggle"),l("reset-flow")},u=(i,w,R,q)=>{var _,Q;if(i&&(w.value===+n.modelValue&&!n.disabledValues.includes(w.value)&&(p.value=i),P!=null&&P.value)){Array.isArray(h.value[R])?h.value[R][q]=i:h.value[R]=[i];const g=(_=n.headerRefs)!=null&&_.length?[n.headerRefs].concat(h.value):h.value.concat([n.skipButtonRef?[]:[A.value]]);$(g,(Q=n.headerRefs)!=null&&Q.length?"monthPicker":"selectionGrid")}};return r({focusGrid:c}),(i,w)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:y,class:e.normalizeClass(e.unref(O)),role:"dialog",tabindex:"0"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(H)),role:"grid"},[e.createElementVNode("div",$l,[e.renderSlot(i.$slots,"header")]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(V),(R,q)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:e.unref(nl)(q),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(R,(_,Q)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(U)),key:_.value,"aria-selected":_.value===t.modelValue&&!t.disabledValues.includes(_.value),"aria-disabled":_.className.dp__overlay_cell_disabled,ref_for:!0,ref:g=>u(g,_,q,Q),tabindex:"0",onClick:g=>z(_.value),onKeydown:e.withKeys(g=>z(_.value),["enter"]),onMouseover:g=>E.value=_.value},[e.createElementVNode("div",{class:e.normalizeClass(_.className)},[i.$slots.item?e.renderSlot(i.$slots,"item",{key:0,item:_}):e.createCommentVNode("",!0),i.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(_.text),1)],64))],2)],42,Vl))),128))]))),128)),i.$slots["button-icon"]?(e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":e.unref(N).toggleOverlay,class:e.normalizeClass(e.unref(Y)),tabindex:"0",ref_key:"toggleButton",ref:A,onClick:b,onKeydown:e.withKeys(b,["enter"])},[e.renderSlot(i.$slots,"button-icon")],42,Nl)):e.createCommentVNode("",!0)],2)],2))}}),qe=()=>{const t=e.inject(We);return{transitionName:e.computed(()=>l=>t!=null&&t.value?l?t.value.open:t.value.close:""),showTransition:!!(t!=null&&t.value)}},Pl={key:0,class:"dp__time_input"},Al=e.createTextVNode(" : "),Tl=["aria-label","onKeydown","onClick"],_l=["aria-label","onKeydown","onClick"],El=["aria-label","onKeydown","onClick"],Rl={key:0},Ol=["aria-label","onKeydown"],Il=e.defineComponent({__name:"TimeInput",props:{...vt,hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},filters:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0}},emits:["setHours","setMinutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:r,emit:l}){const n=t,m=e.reactive({hours:!1,minutes:!1,seconds:!1}),p=e.ref("AM"),y=e.ref(null),h=e.inject(he),k=e.inject(ge),M=e.ref([]),{transitionName:N,showTransition:P}=qe(),{setTimePickerElements:E,setTimePickerBackRef:A}=ke();e.onMounted(()=>{l("mounted")});const v=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),$=e.computed(()=>{const S=[{type:"hours"},"separator",{type:"minutes"}];return n.enableSeconds?S.concat(["separator",{type:"seconds"}]):S}),J=e.computed(()=>$.value.filter(S=>typeof S!="string")),a=e.computed(()=>S=>{if(S==="hours"){const b=Y(n.hours);return{text:b<10?`0${b}`:`${b}`,value:b}}return{text:n[S]<10?`0${n[S]}`:`${n[S]}`,value:n[S]}}),c=S=>{const b=S==="hours"?n.is24?24:12:60,u=+n[`${S}GridIncrement`],i=[];for(let w=0;w<b;w+=u)i.push({value:w,text:w<10?`0${w}`:`${w}`});return Jn(i)},O=S=>n[`no${S[0].toUpperCase()+S.slice(1)}Overlay`],U=S=>{O(S)||(m[S]=!m[S],m[S]||l("overlay-closed"))},V=(S,b=!0)=>{const u=S==="hours"?s.getHours:S==="minutes"?s.getMinutes:s.getSeconds,i=b?In:Yn;l(`update:${S}`,u(i({[S]:+n[S]},{[S]:+n[`${S}Increment`]})))},Y=S=>n.is24?S:(S>=12?p.value="PM":p.value="AM",xn(S)),H=()=>{p.value==="PM"?(p.value="AM",l("update:hours",n.hours-12)):(p.value="PM",l("update:hours",n.hours+12))},W=S=>{m[S]=!0},G=(S,b,u)=>{if(S&&(k==null?void 0:k.value)){Array.isArray(M.value[b])?M.value[b][u]=S:M.value[b]=[S];const i=M.value.reduce((w,R)=>R.map((q,_)=>[...w[_]||[],R[_]]),[]);A(n.closeTimePickerBtn),y.value&&(i[1]=i[1].concat(y.value)),E(i,n.order)}},z=(S,b)=>S==="hours"&&!n.is24?l(`update:${S}`,p.value==="PM"?b+12:b):l(`update:${S}`,b);return r({openChildCmp:W}),(S,b)=>t.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Pl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref($),(u,i)=>(e.openBlock(),e.createElementBlock("div",{key:i,class:e.normalizeClass(e.unref(v))},[u==="separator"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[Al],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":e.unref(h).incrementValue(u.type),tabindex:"0",onKeydown:e.withKeys(w=>V(u.type),["enter"]),onClick:w=>V(u.type),ref_for:!0,ref:w=>G(w,i,0)},[S.$slots["arrow-up"]?e.renderSlot(S.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),S.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],40,Tl),e.createElementVNode("div",{role:"button","aria-label":e.unref(h).openTpOverlay(u.type),class:e.normalizeClass(O(u.type)?"":"dp__time_display"),tabindex:"0",onKeydown:e.withKeys(w=>U(u.type),["enter"]),onClick:w=>U(u.type),ref_for:!0,ref:w=>G(w,i,1)},[S.$slots[u.type]?e.renderSlot(S.$slots,u.type,{key:0,text:e.unref(a)(u.type).text,value:e.unref(a)(u.type).value}):e.createCommentVNode("",!0),S.$slots[u.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(a)(u.type).text),1)],64))],42,_l),e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":e.unref(h).decrementValue(u.type),tabindex:"0",onKeydown:e.withKeys(w=>V(u.type,!1),["enter"]),onClick:w=>V(u.type,!1),ref_for:!0,ref:w=>G(w,i,2)},[S.$slots["arrow-down"]?e.renderSlot(S.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),S.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Vt),{key:1}))],40,El)],64))],2))),128)),S.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Rl,[S.$slots["am-pm-button"]?e.renderSlot(S.$slots,"am-pm-button",{key:0,toggle:H,value:p.value}):e.createCommentVNode("",!0),S.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:y,type:"button",class:"dp__pm_am_button",role:"button","aria-label":e.unref(h).amPmButton,tabindex:"0",onClick:H,onKeydown:e.withKeys(e.withModifiers(H,["prevent"]),["enter"])},e.toDisplayString(p.value),41,Ol))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(J),(u,i)=>(e.openBlock(),e.createBlock(e.Transition,{key:i,name:e.unref(N)(m[u.type]),css:e.unref(P)},{default:e.withCtx(()=>[m[u.type]?(e.openBlock(),e.createBlock(Ie,{key:0,items:c(u.type),"disabled-values":t.filters.times[u.type],"onUpdate:modelValue":w=>z(u.type,w),onSelected:w=>U(u.type),onToggle:w=>U(u.type),onResetFlow:b[0]||(b[0]=w=>S.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[S.$slots["clock-icon"]?e.renderSlot(S.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),S.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:2},[S.$slots[`${u.type}-overlay`]?{name:"item",fn:e.withCtx(({item:w})=>[e.renderSlot(S.$slots,`${u.type}-overlay`,{text:w.text,value:w.value})])}:void 0]),1032,["items","disabled-values","onUpdate:modelValue","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}),Ye=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay",use:["calendar","month-year"]},{name:"year-overlay",use:["calendar","month-year"]},{name:"hours-overlay",use:["calendar","time"]},{name:"minutes-overlay",use:["calendar","time"]},{name:"seconds-overlay",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]}],Yl=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],vl={all:()=>Ye,monthYear:()=>Ye.filter(t=>t.use.includes("month-year")),input:()=>Yl,timePicker:()=>Ye.filter(t=>t.use.includes("time")),action:()=>Ye.filter(t=>t.use.includes("action")),calendar:()=>Ye.filter(t=>t.use.includes("calendar"))},Be=(t,r)=>{const l=[];return vl[r]().forEach(n=>{t[n.name]&&l.push(n.name)}),l},Kl=["aria-label"],zl={class:"dp__overlay_container dp__container_flex"},Hl={key:1,class:"dp__overlay_row"},Ll=["aria-label"],jl=e.defineComponent({__name:"TimePicker",props:{...Kt,range:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},customProps:{type:Object,default:null},modelAuto:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null}},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:l}){const n=t,m=e.useSlots(),p=e.ref(null),y=e.ref(null),h=e.inject(it,!1),k=e.ref([]),M=e.ref(null),N=e.inject(he),P=e.inject(ge),{transitionName:E,showTransition:A}=qe(),{buildMatrix:v,setTimePicker:$}=ke();e.onMounted(()=>{l("mount"),!n.timePicker&&(P==null?void 0:P.value)?v([te(p.value)],"time"):$(!0,n.timePicker)});const J=e.computed(()=>n.range&&n.modelAuto?qt(n.internalModelValue):!0),a=e.ref(!1),c=b=>({hours:Array.isArray(n.hours)?n.hours[b]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[b]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[b]:n.seconds}),O=e.computed(()=>{const b=[];if(n.range)for(let u=0;u<2;u++)b.push(c(u));else b.push(c(0));return b}),U=(b,u=!1,i="")=>{u||l("reset-flow"),a.value=b,P!=null&&P.value&&($(b),b||l("overlay-closed")),e.nextTick(()=>{i!==""&&k.value[0]&&k.value[0].openChildCmp(i)})},V=e.computed(()=>({dp__button:!0,dp__button_bottom:h})),Y=Be(m,"timePicker"),H=(b,u,i)=>n.range?u===0?[b,O.value[1][i]]:[O.value[0][i],b]:b,W=b=>{l("update:hours",b)},G=b=>{l("update:minutes",b)},z=b=>{l("update:seconds",b)},S=()=>{M.value&&(P==null?void 0:P.value)&&M.value.focus({preventScroll:!0})};return r({toggleTimePicker:U}),(b,u)=>(e.openBlock(),e.createElementBlock("div",null,[b.timePicker?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(V)),role:"button","aria-label":e.unref(N).openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:p,onKeydown:u[0]||(u[0]=e.withKeys(i=>U(!0),["enter"])),onClick:u[1]||(u[1]=i=>U(!0))},[b.$slots["clock-icon"]?e.renderSlot(b.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),b.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],42,Kl)),e.createVNode(e.Transition,{name:e.unref(E)(a.value),css:e.unref(A)},{default:e.withCtx(()=>[a.value||b.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:M,tabindex:"0"},[e.createElementVNode("div",zl,[b.$slots["time-picker-overlay"]?e.renderSlot(b.$slots,"time-picker-overlay",{key:0,range:t.range,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:W,setMinutes:G,setSeconds:z}):e.createCommentVNode("",!0),b.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Hl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(O),(i,w)=>e.withDirectives((e.openBlock(),e.createBlock(Il,e.mergeProps({key:w,disabled:w===0?b.fixedStart:b.fixedEnd,hours:i.hours,minutes:i.minutes,seconds:i.seconds,filters:t.filters,ref_for:!0,ref_key:"timeInputRefs",ref:k},{is24:b.is24,hoursGridIncrement:b.hoursGridIncrement,minutesGridIncrement:b.minutesGridIncrement,secondsGridIncrement:b.secondsGridIncrement,hoursIncrement:b.hoursIncrement,minutesIncrement:b.minutesIncrement,secondsIncrement:b.secondsIncrement,filters:t.filters,noHoursOverlay:b.noHoursOverlay,noMinutesOverlay:b.noMinutesOverlay,noSecondsOverlay:b.noSecondsOverlay,enableSeconds:b.enableSeconds,closeTimePickerBtn:y.value,order:w},{"onUpdate:hours":R=>W(H(R,w,"hours")),"onUpdate:minutes":R=>G(H(R,w,"minutes")),"onUpdate:seconds":R=>z(H(R,w,"seconds")),onMounted:S,onOverlayClosed:S}),e.createSlots({_:2},[e.renderList(e.unref(Y),(R,q)=>({name:R,fn:e.withCtx(_=>[e.renderSlot(b.$slots,R,e.normalizeProps(e.guardReactiveProps(_)))])}))]),1040,["disabled","hours","minutes","seconds","filters","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,w===0?!0:e.unref(J)]])),128))])),b.timePicker?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:y,class:e.normalizeClass(e.unref(V)),role:"button","aria-label":e.unref(N).closeTimePicker,tabindex:"0",onKeydown:u[2]||(u[2]=e.withKeys(i=>U(!1),["enter"])),onClick:u[3]||(u[3]=i=>U(!1))},[b.$slots["calendar-icon"]?e.renderSlot(b.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),b.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))],42,Ll))])],512)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]))}}),Ul=["aria-label"],gt=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""}},emits:["activate","setRef"],setup(t,{emit:r}){const l=e.ref(null);return e.onMounted(()=>r("setRef",l)),(n,m)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:m[0]||(m[0]=p=>n.$emit("activate")),onKeydown:m[1]||(m[1]=e.withKeys(p=>n.$emit("activate"),["enter"])),tabindex:"0",ref_key:"elRef",ref:l},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":t.ariaLabel},[e.renderSlot(n.$slots,"default")],8,Ul)],544))}}),Wl=["aria-label"],Qt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},headerRefs:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","setRef"],setup(t,{emit:r}){const{transitionName:l,showTransition:n}=qe(),m=e.ref(null);return e.onMounted(()=>r("setRef",m)),(p,y)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:y[0]||(y[0]=h=>p.$emit("toggle")),onKeydown:y[1]||(y[1]=e.withKeys(h=>p.$emit("toggle"),["enter"])),role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:m},[e.renderSlot(p.$slots,"default")],40,Wl),e.createVNode(e.Transition,{name:e.unref(l)(t.showSelectionGrid),css:e.unref(n)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue},{"header-refs":[],"onUpdate:modelValue":y[2]||(y[2]=h=>p.$emit("update:model-value",h)),onToggle:y[3]||(y[3]=h=>p.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[p.$slots["calendar-icon"]?e.renderSlot(p.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[p.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:h})=>[e.renderSlot(p.$slots,t.slotName,{item:h})])}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),Je=(t,r,l)=>[s.set(new Date(t),{date:1}),s.set(new Date,{month:r,year:l,date:1})],Ft=(t,r,l)=>re(...Je(t,r,l))||F(...Je(t,r,l)),xt=(t,r,l)=>ae(...Je(t,r,l))||F(...Je(t,r,l)),en=(t,r,l,n,m,p)=>{let y=!1;return p?t&&r?(r&&m&&xt(r,l,n)&&(y=!0),t&&!m&&Ft(t,l,n)&&(y=!0)):(t&&Ft(t,l,n)||r&&xt(r,l,n))&&(y=!0):y=!0,y},Gl=(t,r)=>{const l=(y,h)=>{let k=y;return t.filters.months.includes(s.getMonth(k))?(k=h?s.addMonths(y,1):s.subMonths(y,1),l(k,h)):k},n=(y,h)=>{let k=y;return t.filters.years.includes(s.getYear(k))?(k=h?s.addYears(y,1):s.subYears(y,1),n(k,h)):k},m=y=>{const h=s.set(new Date,{month:t.month,year:t.year});let k=y?s.addMonths(h,1):s.subMonths(h,1),M=s.getMonth(k),N=s.getYear(k);t.filters.months.includes(M)&&(k=l(k,y),M=s.getMonth(k),N=s.getYear(k)),t.filters.years.includes(N)&&(k=n(k,y),N=s.getYear(k)),en(t.minDate,t.maxDate,M,N,y,t.preventMinMaxNavigation)&&p(M,N)},p=(y,h)=>{r("update-month-year",{month:y,year:h})};return{handleMonthYearChange:m}},Xl={class:"dp__month_year_row"},ql={class:"dp__month_picker_header"},Jl=["aria-label"],Zl=["aria-label","onKeydown"],Ql=["aria-label"],Fl=e.defineComponent({__name:"MonthYearPicker",props:{...Gt,...dt,preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},multiCalendarsSolo:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1}},emits:["update-month-year","monthYearSelect","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:l}){const n=t,{transitionName:m,showTransition:p}=qe(),{buildMatrix:y}=ke(),h=e.ref(!1),k=e.ref(!1),M=e.ref([null,null,null,null]),N=e.ref(null),P=e.ref(null),E=e.ref(null),A=e.inject(he),v=e.inject(ge),{handleMonthYearChange:$}=Gl(n,l);e.onMounted(()=>{l("mount")});const J=g=>({get:()=>n[g],set:D=>{const T=g==="month"?"year":"month";l("update-month-year",{[g]:D,[T]:n[T]}),l("monthYearSelect",g==="year"),g==="month"?w(!0):R(!0)}}),a=e.computed(J("month")),c=e.computed(J("year")),O=e.computed(()=>g=>{const D=g==="month";return{showSelectionGrid:(D?h:k).value,items:(D?S:b).value,disabledValues:n.filters[D?"months":"years"],minValue:(D?Y:U).value,maxValue:(D?H:V).value,headerRefs:D&&n.monthPicker?[N.value,P.value,E.value]:[]}}),U=e.computed(()=>n.minDate?s.getYear(new Date(n.minDate)):null),V=e.computed(()=>n.maxDate?s.getYear(new Date(n.maxDate)):null),Y=e.computed(()=>{if(n.minDate&&U.value){if(U.value>n.year)return 12;if(U.value===n.year)return s.getMonth(new Date(n.minDate))}return null}),H=e.computed(()=>n.maxDate&&V.value?V.value<n.year?-1:V.value===n.year?s.getMonth(new Date(n.maxDate)):null:null),W=e.computed(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),G=(g,D=!1)=>{const T=[];for(let le=0;le<g.length;le+=3){const ye=[g[le],g[le+1],g[le+2]];T.push(D?ye.reverse():ye)}return D?T.reverse():T},z=e.computed(()=>{const g=n.months.find(D=>D.value===n.month);return g||{text:"",value:0}}),S=e.computed(()=>G(n.months)),b=e.computed(()=>G(n.years,n.reverseYears)),u=e.computed(()=>n.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),i=e.computed(()=>n.multiCalendars?n.multiCalendarsSolo?!0:n.instance===n.multiCalendars-1:!0),w=(g=!1)=>{q(g),h.value=!h.value,h.value||l("overlay-closed")},R=(g=!1)=>{q(g),k.value=!k.value,k.value||l("overlay-closed")},q=g=>{g||l("reset-flow")},_=(g=!1)=>{l("update-month-year",{year:g?n.year+1:n.year-1,month:n.month})},Q=(g,D)=>{v!=null&&v.value&&(M.value[D]=te(g),y(M.value,"monthYear"))};return r({toggleMonthPicker:w,toggleYearPicker:R}),(g,D)=>(e.openBlock(),e.createElementBlock("div",Xl,[!g.monthPicker&&!t.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(u)&&!g.vertical?(e.openBlock(),e.createBlock(gt,{key:0,"aria-label":e.unref(A).prevMonth,onActivate:D[0]||(D[0]=T=>e.unref($)(!1)),onSetRef:D[1]||(D[1]=T=>Q(T,0))},{default:e.withCtx(()=>[g.$slots["arrow-left"]?e.renderSlot(g.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))]),_:3},8,["aria-label"])):e.createCommentVNode("",!0),e.createVNode(Qt,e.mergeProps({"aria-label":e.unref(A).openMonthsOverlay,"slot-name":"month-overlay",modelValue:e.unref(a),"onUpdate:modelValue":D[2]||(D[2]=T=>e.isRef(a)?a.value=T:null)},e.unref(O)("month"),{onToggle:w,onSetRef:D[3]||(D[3]=T=>Q(T,1))}),e.createSlots({default:e.withCtx(()=>[g.$slots.month?e.renderSlot(g.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(z)))):e.createCommentVNode("",!0),g.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(z).text),1)],64))]),_:2},[g.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(g.$slots,"calendar-icon")])}:void 0,g.$slots["month-overlay"]?{name:"month-overlay",fn:e.withCtx(({item:T})=>[e.renderSlot(g.$slots,"month-overlay",{text:T.text,value:T.value})])}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(Qt,e.mergeProps({"aria-label":e.unref(A).openYearsOverlay,"slot-name":"year-overlay",modelValue:e.unref(c),"onUpdate:modelValue":D[4]||(D[4]=T=>e.isRef(c)?c.value=T:null)},e.unref(O)("year"),{onToggle:R,onSetRef:D[5]||(D[5]=T=>Q(T,2))}),e.createSlots({default:e.withCtx(()=>[g.$slots.year?e.renderSlot(g.$slots,"year",{key:0,year:g.year}):e.createCommentVNode("",!0),g.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(g.year),1)],64))]),_:2},[g.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(g.$slots,"calendar-icon")])}:void 0,g.$slots["year-overlay"]?{name:"year-overlay",fn:e.withCtx(({item:T})=>[e.renderSlot(g.$slots,"year-overlay",{text:T.text,value:T.value})])}:void 0]),1040,["aria-label","modelValue"]),e.unref(u)&&g.vertical?(e.openBlock(),e.createBlock(gt,{key:1,"aria-label":e.unref(A).prevMonth,onActivate:D[6]||(D[6]=T=>e.unref($)(!1))},{default:e.withCtx(()=>[g.$slots["arrow-up"]?e.renderSlot(g.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))]),_:3},8,["aria-label"])):e.createCommentVNode("",!0),e.unref(i)?(e.openBlock(),e.createBlock(gt,{key:2,"arial-label":e.unref(A).nextMonth,onActivate:D[7]||(D[7]=T=>e.unref($)(!0)),ref:"rightIcon",onSetRef:D[8]||(D[8]=T=>Q(T,3))},{default:e.withCtx(()=>[g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.renderSlot(g.$slots,g.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.vertical?e.unref(Vt):e.unref(Bt)),{key:1}))]),_:3},8,["arial-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),g.monthPicker?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:1},e.unref(O)("month"),{"skip-active":n.range,year:g.year,"multi-model-value":e.unref(W),"month-picker":"",modelValue:e.unref(a),"onUpdate:modelValue":D[15]||(D[15]=T=>e.isRef(a)?a.value=T:null),onToggle:w,onSelected:D[16]||(D[16]=T=>g.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>[e.createElementVNode("div",ql,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:N,onClick:D[9]||(D[9]=T=>_(!1)),onKeydown:D[10]||(D[10]=e.withKeys(T=>_(!1),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":e.unref(A).prevMonth},[g.$slots["arrow-left"]?e.renderSlot(g.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))],8,Jl)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:P,"aria-label":e.unref(A).openYearsOverlay,tabindex:"0",onClick:R,onKeydown:e.withKeys(R,["enter"])},[g.$slots.year?e.renderSlot(g.$slots,"year",{key:0,year:g.year}):e.createCommentVNode("",!0),g.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(g.year),1)],64))],40,Zl),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:E,onClick:D[11]||(D[11]=T=>_(!0)),onKeydown:D[12]||(D[12]=e.withKeys(T=>_(!0),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":e.unref(A).nextMonth},[g.$slots["arrow-right"]?e.renderSlot(g.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))],8,Ql)],544)]),e.createVNode(e.Transition,{name:e.unref(m)(k.value),css:e.unref(p)},{default:e.withCtx(()=>[k.value?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:0},e.unref(O)("year"),{modelValue:e.unref(c),"onUpdate:modelValue":D[13]||(D[13]=T=>e.isRef(c)?c.value=T:null),onToggle:R,onSelected:D[14]||(D[14]=T=>g.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[g.$slots["calendar-icon"]?e.renderSlot(g.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[g.$slots["year-overlay"]?{name:"item",fn:e.withCtx(({item:T})=>[e.renderSlot(g.$slots,"year-overlay",{text:T.text,value:T.value})])}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:2},[g.$slots["month-overlay"]?{name:"item",fn:e.withCtx(({item:T})=>[e.renderSlot(g.$slots,"month-overlay",{text:T.text,value:T.value})])}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),t.yearPicker?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:2},e.unref(O)("year"),{modelValue:e.unref(c),"onUpdate:modelValue":D[17]||(D[17]=T=>e.isRef(c)?c.value=T:null),"multi-model-value":e.unref(W),"skip-active":n.range,"skip-button-ref":"","year-picker":"",onToggle:R,onSelected:D[18]||(D[18]=T=>g.$emit("overlay-closed"))}),e.createSlots({_:2},[g.$slots["year-overlay"]?{name:"item",fn:e.withCtx(({item:T})=>[e.renderSlot(g.$slots,"year-overlay",{text:T.text,value:T.value})])}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)]))}}),xl=(t,r,l,n)=>{const m=e.ref(new Date),p=e.ref(),y=e.ref([{month:s.getMonth(new Date),year:s.getYear(new Date)}]),h=e.ref(t.range?[s.getHours(new Date),s.getHours(new Date)]:s.getHours(new Date)),k=e.ref(t.range?[s.getMinutes(new Date),s.getMinutes(new Date)]:s.getMinutes(new Date)),M=e.ref(t.range?[0,0]:0);e.watch(y,()=>{setTimeout(()=>{t.openOnTop&&r("dpOpen")},0)},{deep:!0}),e.onMounted(()=>{G(!0),a.value||(t.startDate&&(y.value[0].month=s.getMonth(new Date(t.startDate)),y.value[0].year=s.getYear(new Date(t.startDate)),t.multiCalendars&&T(0)),t.startTime&&J())});const N=e.computed(()=>o=>y.value[o]?y.value[o].month:0),P=e.computed(()=>o=>y.value[o]?y.value[o].year:0),E=(o,C,B)=>{y.value[o].month=C,y.value[o].year=B},A=(o,C)=>y.value[o].month=C,v=(o,C)=>y.value[o].year=C,$=(o=!0)=>t.enableSeconds?Array.isArray(M.value)?o?M.value[0]:M.value[1]:M.value:0,J=()=>{t.startTime&&(Cl(t.startTime)?(h.value=[+t.startTime[0].hours,+t.startTime[1].hours],k.value=[+t.startTime[0].minutes,+t.startTime[1].minutes],t.enableSeconds&&(M.value=[+t.startTime[0].seconds,+t.startTime[1].seconds])):(h.value=+t.startTime.hours,k.value=+t.startTime.minutes,t.enableSeconds&&(M.value=+t.startTime.seconds)))},a=e.computed({get:()=>t.internalModelValue,set:o=>{!t.readonly&&!t.disabled&&r("update:internalModelValue",o)}});e.watch(a,()=>G());const c=o=>{const{validate:C}=Ot(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,t.filters,t.disabledWeekDays,t.yearRange);return!C(o)},O=o=>!a.value||t.hideOffsetDates&&!o.current?!1:t.range?t.modelAuto&&Array.isArray(a.value)?F(o.value,a.value[0]?a.value[0]:m.value):!1:t.multiDates&&Array.isArray(a.value)?a.value.some(C=>F(C,o.value)):F(o.value,a.value?a.value:m.value),U=o=>Et(a.value,p.value,o.value),V=(o,C=!1)=>{if((!t.multiCalendars||!t.multiStatic||C)&&(A(0,s.getMonth(o)),v(0,s.getYear(o))),t.multiCalendars)for(let B=1;B<=t.multiCalendars;B++){const L=s.set(new Date,{month:N.value(B-1),year:P.value(B-1)}),ce=s.add(L,{months:1});y.value[B]={month:s.getMonth(ce),year:s.getYear(ce)}}},Y=()=>{if(Array.isArray(a.value)&&a.value.length===2){const o=new Date(a.value[1]?a.value[1]:s.addMonths(a.value[0],1)),[C,B]=[s.getMonth(a.value[0]),s.getYear(a.value[0])],[L,ce]=[s.getMonth(a.value[1]),s.getYear(a.value[1])];(C!==L||C===L&&B!==ce)&&t.multiCalendarsSolo&&(A(1,s.getMonth(o)),v(1,s.getYear(o)))}},H=o=>{V(o),h.value=s.getHours(o),k.value=s.getMinutes(o),M.value=s.getSeconds(o)},W=()=>Array.isArray(a.value)&&a.value.length?a.value[a.value.length-1]:null,G=(o=!1)=>{if(a.value)if(Oe(a.value)){if(a.value.length===2&&!t.multiDates)V(a.value[0],o),h.value=[s.getHours(a.value[0]),a.value[1]?s.getHours(a.value[1]):s.getHours(new Date)],k.value=[s.getMinutes(a.value[0]),a.value[1]?s.getMinutes(a.value[1]):s.getMinutes(new Date)],M.value=[s.getSeconds(a.value[0]),a.value[1]?s.getSeconds(a.value[1]):s.getSeconds(new Date)];else if(Oe(a.value)&&t.multiDates){const C=a.value[a.value.length-1];C&&H(C)}t.multiCalendars&&t.multiCalendarsSolo&&Y()}else H(a.value);else t.timePicker?(J(),t.range?de(h.value)&&de(k.value)&&(a.value=[ie(new Date,h.value[0],k.value[0],$()),ie(new Date,h.value[1],k.value[1],$(!1))]):a.value=ie(new Date,h.value,k.value,$())):t.monthPicker&&!t.range?a.value=Me(new Date,N.value(0),P.value(0)):t.multiCalendars?V(new Date):t.yearPicker&&!t.range&&(a.value=new Date)},z=o=>{const C=s.getMonth(new Date(o)),B=s.getYear(new Date(o));if(A(0,C),v(0,B),t.multiCalendars>0)for(let L=1;L<t.multiCalendars;L++){const ce=On(s.set(new Date(o),{year:N.value(L-1),month:P.value(L-1)}));A(L,ce.month),v(L,ce.year)}},S=o=>{if(a.value&&Array.isArray(a.value))if(a.value.some(C=>F(o,C))){const C=a.value.filter(B=>!F(B,o));a.value=C.length?C:null}else(t.multiDatesLimit&&+t.multiDatesLimit>a.value.length||!t.multiDatesLimit)&&a.value.push(o);else a.value=[o]},b=o=>{if(Array.isArray(a.value)&&a.value[0]){const C=s.differenceInCalendarDays(o,a.value[0]),B=ae(a.value[0],o)?o:a.value[0],L=ae(o,a.value[0])?o:a.value[0],Ne=s.eachDayOfInterval({start:B,end:L}).filter(Re=>c(Re)).length,ue=Math.abs(C<0?C+1:C-1)-Ne;if(t.minRange&&t.maxRange)return ue>=+t.minRange&&ue<=+t.maxRange;if(t.minRange)return ue>=+t.minRange;if(t.maxRange)return ue<=+t.maxRange}return!0},u=o=>Array.isArray(a.value)&&a.value.length===2?t.fixedStart&&(ae(o,a.value[0])||F(o,a.value[0]))?[a.value[0],o]:t.fixedEnd&&(re(o,a.value[1])||F(o,a.value[1]))?[o,a.value[1]]:a.value:[],i=()=>{t.autoApply&&r("autoApply")},w=o=>!s.eachDayOfInterval({start:o[0],end:o[1]}).some(B=>c(B)),R=(o,C=!1)=>{if(!c(o.value)&&!(!o.current&&t.hideOffsetDates)){if(t.weekPicker)return a.value=Ue(new Date(o.value),+t.weekStart),i();if(!t.range&&!de(h.value)&&!de(k.value)){const B=ie(new Date(o.value),h.value,k.value,$());t.multiDates?S(B):a.value=B,l(),i()}else if(de(h.value)&&de(k.value)&&!t.multiDates){let B=a.value?a.value.slice():[];if(B.length===2&&!(t.fixedStart||t.fixedEnd)&&(B=[]),t.autoRange){const L=[new Date(o.value),s.addDays(new Date(o.value),+t.autoRange)];w(L)&&(C&&z(o.value),B=L)}else t.fixedStart||t.fixedEnd?B=u(new Date(o.value)):B[0]?b(new Date(o.value))&&(re(new Date(o.value),new Date(B[0]))?B.unshift(new Date(o.value)):B[1]=new Date(o.value)):B[0]=new Date(o.value);B.length&&(B[0]&&!B[1]?B[0]=ie(B[0],h.value[0],k.value[0],$()):(B[0]=ie(B[0],h.value[0],k.value[0],$()),B[1]=ie(B[1],h.value[1],k.value[1],$(!1)),l()),a.value=B,B[0]&&B[1]&&t.autoApply&&r("autoApply"))}}},q=o=>{const C=o.find(B=>B.current);return C?s.getISOWeek(C.value):""},_=o=>{!o.current&&t.hideOffsetDates||(p.value=o.value)},Q=o=>{if(t.autoRange||t.weekPicker){if(p.value){if(t.hideOffsetDates&&!o.current)return!1;const C=s.addDays(p.value,+t.autoRange),B=Ue(new Date(p.value),+t.weekStart);return t.weekPicker?F(B[1],new Date(o.value)):F(C,new Date(o.value))}return!1}return!1},g=o=>{if(t.autoRange||t.weekPicker){if(p.value){const C=s.addDays(p.value,+t.autoRange);if(t.hideOffsetDates&&!o.current)return!1;const B=Ue(new Date(p.value),+t.weekStart);return t.weekPicker?ae(o.value,B[0])&&re(o.value,B[1]):ae(o.value,p.value)&&re(o.value,C)}return!1}return!1},D=o=>{if(t.autoRange||t.weekPicker){if(p.value){if(t.hideOffsetDates&&!o.current)return!1;const C=Ue(new Date(p.value),+t.weekStart);return t.weekPicker?F(C[0],o.value):F(p.value,o.value)}return!1}return!1},T=o=>{for(let C=o-1;C>=0;C--){const B=s.subMonths(s.set(new Date,{month:N.value(C+1),year:P.value(C+1)}),1);E(C,s.getMonth(B),s.getYear(B))}for(let C=o+1;C<=t.multiCalendars-1;C++){const B=s.addMonths(s.set(new Date,{month:N.value(C-1),year:P.value(C-1)}),1);E(C,s.getMonth(B),s.getYear(B))}},le=o=>Me(new Date,N.value(o),P.value(o)),ye=(o,C)=>{const B=t.monthPicker?N.value(o)!==C.month:P.value(o)!==C.year;if(A(o,C.month),v(o,C.year),t.multiCalendars&&!t.multiCalendarsSolo&&T(o),t.monthPicker||t.yearPicker)if(t.range){if(B){let L=a.value?a.value.slice():[];L.length===2&&L[1]!==null&&(L=[]),L.length?re(le(o),L[0])?L.unshift(le(o)):L[1]=le(o):L=[le(o)],a.value=L}}else a.value=le(o);l(),r("updateMonthYear",{instance:o,month:C.month,year:C.year}),Fe(t.multiCalendarsSolo?o:void 0)},De=o=>ie(o,h.value,k.value,$()),pe=o=>{Oe(o)&&Oe(a.value)&&de(h.value)&&de(k.value)?(o[0]&&a.value[0]&&(a.value[0]=ie(o[0],h.value[0],k.value[0],$())),o[1]&&a.value[1]&&(a.value[1]=ie(o[1],h.value[1],k.value[1],$(!1)))):t.multiDates&&Array.isArray(a.value)?a.value[a.value.length-1]=De(o):!t.range&&!Xe(o)&&(a.value=De(o)),r("timeUpdate")},we=(o,C=!0,B=!1)=>{const L=C?o:h.value,ce=!C&&!B?o:k.value,Ne=B?o:M.value;if(t.range&&Xe(a.value)&&de(L)&&de(ce)&&de(Ne)&&!t.disableTimeRangeValidation){const ue=be=>ie(a.value[be],L[be],ce[be],Ne[be]),Re=be=>s.setMilliseconds(a.value[be],0);if(F(a.value[0],a.value[1])&&(s.isAfter(ue(0),Re(1))||s.isBefore(ue(1),Re(0))))return}if(h.value=L,k.value=ce,M.value=Ne,a.value)if(t.multiDates){const ue=W();ue&&pe(ue)}else pe(a.value);else t.timePicker&&pe(t.range?[new Date,new Date]:new Date);l()},Ce=()=>{p.value=null},$e=o=>Jt(a.value,t.range)&&a.value[0]&&p.value?o?ae(p.value,a.value[0]):re(p.value,a.value[0]):!0,se=(o,C=!0)=>(t.range||t.weekPicker)&&Xe(a.value)?t.hideOffsetDates&&!o.current?!1:F(new Date(o.value),a.value[C?0:1]):t.range?F(new Date(o.value),a.value&&Array.isArray(a.value)?C?a.value[0]||null:a.value[1]:null)&&(C?!re(p.value||null,Array.isArray(a.value)?a.value[0]:null):!0)||F(o.value,Array.isArray(a.value)?a.value[0]:null)&&$e(C):!1,_e=(o,C)=>Array.isArray(t.internalModelValue)&&t.internalModelValue.length||t.weekPicker?!1:!o&&!O(C)&&!(!C.current&&t.hideOffsetDates)&&(t.range?!se(C)&&!se(C,!1):!0),ve=(o,C,B)=>Array.isArray(t.internalModelValue)&&t.internalModelValue[0]&&t.internalModelValue.length===1?o?!1:B?ae(t.internalModelValue[0],C.value):re(t.internalModelValue[0],C.value):!1,Ke=(o=!1)=>{t.autoApply&&(t.monthPicker||t.yearPicker)&&e.nextTick().then(()=>{t.range?r("autoApply",o||!a.value||a.value.length===1):r("autoApply",o)})},f=(o,C)=>{const B=s.set(new Date,{month:N.value(C),year:P.value(C)}),L=o<0?s.addMonths(B,1):s.subMonths(B,1);en(t.minDate,t.maxDate,s.getMonth(L),s.getYear(L),o<0,t.preventMinMaxNavigation)&&(E(C,s.getMonth(L),s.getYear(L)),t.multiCalendars&&!t.multiCalendarsSolo&&T(C),Fe())},Z=(o,C)=>{t.monthChangeOnScroll&&f(t.monthChangeOnScroll!=="inverse"?-o.deltaY:o.deltaY,C)},ee=(o,C,B=!1)=>{t.monthChangeOnArrows&&t.vertical===B&&Ee(o,C)},Ee=(o,C)=>{f(o==="right"?-1:1,C)},Ve=o=>t.markers.find(C=>F(fe(o.value),fe(C.date))),Ct=()=>{t.range?Jt(a.value,t.range)&&(a.value&&a.value[0]?a.value=re(new Date,a.value[0])?[new Date,a.value[0]]:[a.value[0],new Date]:a.value=[new Date]):r("update:internalModelValue",new Date),t.autoApply&&r("selectDate")},bt=o=>{o.length&&o.length<=2&&t.range&&(a.value=o.map(C=>new Date(C)),t.autoApply&&r("selectDate"))},Fe=o=>{o||o===0?n.value[o].triggerTransition(N.value(o),P.value(o)):n.value.forEach((C,B)=>C.triggerTransition(N.value(B),P.value(B)))};return{today:m,hours:h,minutes:k,seconds:M,month:N,year:P,monthYearSelect:Ke,isDisabled:c,updateTime:we,setHoverDate:_,getWeekNum:q,selectDate:R,rangeActive:U,isActiveDate:O,updateMonthYear:ye,isHoverRangeEnd:Q,isAutoRangeInBetween:g,isAutoRangeStart:D,clearHoverDate:Ce,rangeActiveStartEnd:se,handleScroll:Z,getMarker:Ve,handleArrow:ee,handleSwipe:Ee,selectCurrentDate:Ct,isHoverDate:_e,isHoverDateStartEnd:ve,presetDateRange:bt}},Ze=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),tn=()=>({setMenuFocused:n=>{Ze.menuFocused=n},getStore:()=>Ze,setShiftKey:n=>{Ze.shiftKeyInMenu!==n&&(Ze.shiftKeyInMenu=n)}}),er=["id","aria-label","onKeydown"],tr={key:0,class:"dp__preset_ranges"},nr=["onClick"],lr={key:1,class:"dp__now_wrap"},rr=e.defineComponent({__name:"DatepickerMenu",props:{...Ut,...ut,...ct,internalModelValue:{type:[Date,Array],default:null},multiCalendars:{type:Number,default:0},openOnTop:{type:Boolean,default:!1}},emits:["update:internalModelValue","closePicker","selectDate","dpOpen","autoApply","timeUpdate","flow-step","updateMonthYear","invalid-select"],setup(t,{emit:r}){const l=t,n=e.useSlots(),m=e.ref(null),p=e.reactive({timePicker:!!(!l.enableTimePicker||l.timePicker||l.monthPicker),monthYearInput:!!l.timePicker,calendar:!1}),y=e.ref([]),h=e.ref([]),k=e.ref(null),M=e.ref(null),N=e.ref(0),P=e.ref(!1),E=e.ref(0),A=e.inject(We),v=e.inject(he),$=e.inject(ge),{setMenuFocused:J,setShiftKey:a,getStore:c}=tn();e.onMounted(()=>{var K;P.value=!0,(K=l.presetRanges)!=null&&K.length||L();const d=te(M);if(d&&!l.textInput&&!l.inline&&(J(!0),H()),d){const I=j=>{!l.monthYearComponent&&!l.timePickerComponent&&j.preventDefault(),j.stopImmediatePropagation(),j.stopPropagation()};d.addEventListener("pointerdown",I),d.addEventListener("mousedown",I)}document.addEventListener("resize",L)}),e.onUnmounted(()=>{document.removeEventListener("resize",L)});const{arrowRight:O,arrowLeft:U,arrowDown:V,arrowUp:Y}=ke(),H=()=>{const d=te(M);d&&d.focus({preventScroll:!0})},W=()=>{var d;((d=l.flow)==null?void 0:d.length)&&E.value!==-1&&(E.value+=1,r("flow-step",E.value),nn())},G=()=>{E.value=-1},{updateTime:z,updateMonthYear:S,today:b,month:u,year:i,hours:w,minutes:R,seconds:q,isDisabled:_,isActiveDate:Q,selectDate:g,getWeekNum:D,setHoverDate:T,isHoverRangeEnd:le,isAutoRangeInBetween:ye,isAutoRangeStart:De,rangeActive:pe,clearHoverDate:we,rangeActiveStartEnd:Ce,monthYearSelect:$e,handleScroll:se,handleArrow:_e,handleSwipe:ve,getMarker:Ke,selectCurrentDate:f,isHoverDateStartEnd:Z,isHoverDate:ee,presetDateRange:Ee}=xl(l,r,W,h),Ve=Be(n,"calendar"),Ct=Be(n,"action"),bt=Be(n,"timePicker"),Fe=Be(n,"monthYear"),o=e.computed(()=>l.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),C=e.computed(()=>Qn(l.yearRange)),B=e.computed(()=>Fn(l.locale,l.monthNameFormat)),L=()=>{const d=te(m);d&&(N.value=d.getBoundingClientRect().width)},ce=e.computed(()=>d=>qn(u.value(d),i.value(d),+l.weekStart,l.hideOffsetDates)),Ne=e.computed(()=>l.multiCalendars>0&&l.range?[...Array(l.multiCalendars).keys()]:[0]),ue=e.computed(()=>d=>d===1),Re=e.computed(()=>l.monthPicker||l.timePicker||l.yearPicker),be=e.computed(()=>({dp__flex_display:l.multiCalendars>0})),mr=e.computed(()=>({dp__instance_calendar:l.multiCalendars>0})),fr=e.computed(()=>({dp__menu_disabled:l.disabled,dp__menu_readonly:l.readonly})),pr=e.computed(()=>d=>kr(ce,d)),yr=e.computed(()=>({locale:l.locale,weekNumName:l.weekNumName,weekStart:l.weekStart,weekNumbers:l.weekNumbers,customProps:l.customProps,calendarClassName:l.calendarClassName,specificMode:Re.value,getWeekNum:D,multiCalendars:l.multiCalendars,modeHeight:l.modeHeight,internalModelValue:l.internalModelValue,noSwipe:l.noSwipe,vertical:l.vertical,dayNames:l.dayNames,monthChangeOnScroll:l.monthChangeOnScroll})),hr=e.computed(()=>({dp__menu:!0,dp__menu_index:!l.inline,dp__relative:l.inline,[l.menuClassName]:!!l.menuClassName})),gr=()=>l.modelAuto&&Array.isArray(l.internalModelValue)?!!l.internalModelValue[0]:!1,ze=()=>l.modelAuto?qt(l.internalModelValue):!0,kr=(d,K)=>d.value(K).map(I=>({...I,days:I.days.map(j=>{const X=_(j.value),He=ee(X,j),Pe=l.range?l.modelAuto?gr()&&Q(j):!1:Q(j),ln=l.highlight?Rt(j.value,l.highlight):!1,rn=(l.range||l.weekPicker)&&(l.multiCalendars>0?j.current:!0)&&!X&&ze()&&!(!j.current&&l.hideOffsetDates)&&!Q(j)?pe(j):!1;return j.marker=Ke(j),j.classData={dp__cell_offset:!j.current,dp__pointer:!X&&!(!j.current&&l.hideOffsetDates),dp__active_date:Pe,dp__date_hover:He,dp__date_hover_start:Z(He,j,!0),dp__date_hover_end:Z(He,j,!1),dp__range_between:rn&&!l.weekPicker,dp__range_between_week:rn&&l.weekPicker,dp__today:!l.noToday&&F(j.value,b.value)&&j.current,dp__cell_disabled:X,dp__cell_auto_range:ye(j),dp__cell_auto_range_start:De(j),dp__cell_auto_range_end:le(j),dp__range_start:l.multiCalendars>0?j.current&&Ce(j)&&ze():Ce(j)&&ze(),dp__range_end:l.multiCalendars>0?j.current&&Ce(j,!1)&&ze():Ce(j,!1)&&ze(),[l.calendarCellClassName]:!!l.calendarCellClassName,dp__cell_highlight:ln&&!Pe,dp__cell_highlight_active:ln&&Pe},j})})),wr=d=>{d.stopPropagation(),d.preventDefault(),d.stopImmediatePropagation()},Cr=()=>{l.escClose&&r("closePicker")},br=d=>{d.stopImmediatePropagation(),d.preventDefault(),l.spaceConfirm&&r("selectDate")},St=d=>{var K;(K=l.flow)!=null&&K.length&&(p[d]=!0,Object.keys(p).filter(I=>!p[I]).length||nn())},nn=()=>{l.flow[E.value]==="month"&&y.value[0]&&y.value[0].toggleMonthPicker(!0),l.flow[E.value]==="year"&&y.value&&y.value[0].toggleYearPicker(!0),l.flow[E.value]==="calendar"&&k.value&&k.value.toggleTimePicker(!1,!0),l.flow[E.value]==="time"&&k.value&&k.value.toggleTimePicker(!0,!0);const d=l.flow[E.value];(d==="hours"||d==="minutes"||d==="seconds")&&k.value&&k.value.toggleTimePicker(!0,!0,d)},xe=d=>{if($!=null&&$.value){if(d==="up")return Y();if(d==="down")return V();if(d==="left")return U();if(d==="right")return O()}else d==="left"||d==="up"?_e("left",0,d==="up"):_e("right",0,d==="down")},Sr=d=>{a(d.shiftKey),!l.disableMonthYearSelect&&d.code==="Tab"&&d.target.classList.contains("dp__menu")&&c().shiftKeyInMenu&&(d.preventDefault(),d.stopImmediatePropagation(),r("closePicker"))};return(d,K)=>(e.openBlock(),e.createBlock(e.Transition,{appear:"",name:e.unref(A).menuAppear,mode:"out-in",css:!!e.unref(A)},{default:e.withCtx(()=>[e.createElementVNode("div",{id:d.uid?`dp-menu-${d.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:M,role:"dialog","aria-label":e.unref(v).menu,class:e.normalizeClass(e.unref(hr)),onMouseleave:K[12]||(K[12]=(...I)=>e.unref(we)&&e.unref(we)(...I)),onClick:wr,onKeydown:[e.withKeys(Cr,["esc"]),e.withKeys(br,["space"]),K[13]||(K[13]=e.withKeys(e.withModifiers(I=>xe("left"),["prevent"]),["left"])),K[14]||(K[14]=e.withKeys(e.withModifiers(I=>xe("up"),["prevent"]),["up"])),K[15]||(K[15]=e.withKeys(e.withModifiers(I=>xe("down"),["prevent"]),["down"])),K[16]||(K[16]=e.withKeys(e.withModifiers(I=>xe("right"),["prevent"]),["right"])),Sr]},[(d.disabled||d.readonly)&&d.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(fr))},null,2)):e.createCommentVNode("",!0),!d.inline&&!d.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(o))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(d.presetRanges.length?"dp__menu_content_wrapper":null)},[d.presetRanges.length?(e.openBlock(),e.createElementBlock("div",tr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.presetRanges,(I,j)=>(e.openBlock(),e.createElementBlock("div",{key:j,style:e.normalizeStyle(I.style||{}),class:"dp__preset_range",onClick:X=>e.unref(Ee)(I.range)},e.toDisplayString(I.label),13,nr))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:m,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(be))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Ne),(I,j)=>(e.openBlock(),e.createElementBlock("div",{key:I,class:e.normalizeClass(e.unref(mr))},[!d.disableMonthYearSelect&&!d.timePicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.monthYearComponent?d.monthYearComponent:Fl),e.mergeProps({key:0,ref_for:!0,ref:X=>{X&&(y.value[j]=X)}},{months:e.unref(B),years:e.unref(C),filters:d.filters,monthPicker:d.monthPicker,month:e.unref(u)(I),year:e.unref(i)(I),customProps:d.customProps,multiCalendars:t.multiCalendars,multiCalendarsSolo:d.multiCalendarsSolo,instance:I,minDate:d.minDate,maxDate:d.maxDate,preventMinMaxNavigation:d.preventMinMaxNavigation,internalModelValue:t.internalModelValue,range:d.range,reverseYears:d.reverseYears,vertical:d.vertical,yearPicker:d.yearPicker},{onMount:K[0]||(K[0]=X=>St("monthYearInput")),onResetFlow:G,onUpdateMonthYear:X=>e.unref(S)(I,X),onMonthYearSelect:e.unref($e),onOverlayClosed:H}),e.createSlots({_:2},[e.renderList(e.unref(Fe),(X,He)=>({name:X,fn:e.withCtx(Pe=>[e.renderSlot(d.$slots,X,e.normalizeProps(e.guardReactiveProps(Pe)))])}))]),1040,["onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(pl,e.mergeProps({ref_for:!0,ref:X=>{X&&(h.value[j]=X)}},e.unref(yr),{"flow-step":E.value,"onUpdate:flow-step":K[1]||(K[1]=X=>E.value=X),instance:I,"mapped-dates":e.unref(pr)(I),month:e.unref(u)(I),year:e.unref(i)(I),onSelectDate:X=>e.unref(g)(X,!e.unref(ue)(I)),onSetHoverDate:K[2]||(K[2]=X=>e.unref(T)(X)),onHandleScroll:X=>e.unref(se)(X,I),onHandleSwipe:X=>e.unref(ve)(X,I),onMount:K[3]||(K[3]=X=>St("calendar")),onResetFlow:G}),e.createSlots({_:2},[e.renderList(e.unref(Ve),(X,He)=>({name:X,fn:e.withCtx(Pe=>[e.renderSlot(d.$slots,X,e.normalizeProps(e.guardReactiveProps({...Pe})))])}))]),1040,["flow-step","instance","mapped-dates","month","year","onSelectDate","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[d.enableTimePicker&&!d.monthPicker&&!d.weekPicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.timePickerComponent?d.timePickerComponent:jl),e.mergeProps({key:0,ref_key:"timePickerRef",ref:k},{is24:d.is24,hoursIncrement:d.hoursIncrement,minutesIncrement:d.minutesIncrement,hoursGridIncrement:d.hoursGridIncrement,secondsIncrement:d.secondsIncrement,minutesGridIncrement:d.minutesGridIncrement,secondsGridIncrement:d.secondsGridIncrement,noHoursOverlay:d.noHoursOverlay,noMinutesOverlay:d.noMinutesOverlay,noSecondsOverlay:d.noSecondsOverlay,range:d.range,filters:d.filters,timePicker:d.timePicker,hours:e.unref(w),minutes:e.unref(R),seconds:e.unref(q),customProps:d.customProps,enableSeconds:d.enableSeconds,fixedStart:d.fixedStart,fixedEnd:d.fixedEnd,modelAuto:d.modelAuto,internalModelValue:t.internalModelValue},{onMount:K[4]||(K[4]=I=>St("timePicker")),"onUpdate:hours":K[5]||(K[5]=I=>e.unref(z)(I)),"onUpdate:minutes":K[6]||(K[6]=I=>e.unref(z)(I,!1)),"onUpdate:seconds":K[7]||(K[7]=I=>e.unref(z)(I,!1,!0)),onResetFlow:G,onOverlayClosed:H}),e.createSlots({_:2},[e.renderList(e.unref(bt),(I,j)=>({name:I,fn:e.withCtx(X=>[e.renderSlot(d.$slots,I,e.normalizeProps(e.guardReactiveProps(X)))])}))]),1040)):e.createCommentVNode("",!0)])],512),d.showNowButton?(e.openBlock(),e.createElementBlock("div",lr,[d.$slots["now-button"]?e.renderSlot(d.$slots,"now-button",{key:0,selectCurrentDate:e.unref(f)}):e.createCommentVNode("",!0),d.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:K[8]||(K[8]=(...I)=>e.unref(f)&&e.unref(f)(...I))},e.toDisplayString(d.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!d.autoApply||d.keepActionRow?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.actionRowComponent?d.actionRowComponent:Dl),e.mergeProps({key:2},{calendarWidth:N.value,selectText:d.selectText,cancelText:d.cancelText,internalModelValue:t.internalModelValue,range:d.range,previewFormat:d.previewFormat,inline:d.inline,monthPicker:d.monthPicker,timePicker:d.timePicker,customProps:d.customProps,multiCalendars:t.multiCalendars,menuMount:P.value,maxTime:d.maxTime,minTime:d.minTime,enableTimePicker:d.enableTimePicker,minDate:d.minDate,maxDate:d.maxDate,multiDates:d.multiDates,modelAuto:d.modelAuto,partialRange:d.partialRange},{onClosePicker:K[9]||(K[9]=I=>d.$emit("closePicker")),onSelectDate:K[10]||(K[10]=I=>d.$emit("selectDate")),onInvalidSelect:K[11]||(K[11]=I=>d.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(Ct),(I,j)=>({name:I,fn:e.withCtx(X=>[e.renderSlot(d.$slots,I,e.normalizeProps(e.guardReactiveProps({...X})))])}))]),1040)):e.createCommentVNode("",!0)],42,er)]),_:3},8,["name","css"]))}});var Qe=(t=>(t.center="center",t.left="left",t.right="right",t))(Qe||{});const ar=(t,r,l,n,m,p,y,h,k)=>{const M=e.ref({top:"0",left:"0",transform:"none"}),N=e.ref(!1),P=390,E=V=>{const Y=V.getBoundingClientRect();return{left:Y.left+window.scrollX,top:Y.top+window.scrollY}},A=V=>{const Y=V.getBoundingClientRect();let H=0,W=0;for(;V&&!isNaN(V.offsetLeft)&&!isNaN(V.offsetTop);)H+=V.offsetLeft-V.scrollLeft,W=Y.top+V.scrollTop,V=V.offsetParent;return{top:W,left:H}},v=(V,Y)=>{M.value.left=`${V+Y}px`,M.value.transform="translateX(-100%)"},$=V=>{M.value.left=`${V}px`,M.value.transform="translateX(0)"},J=(V,Y)=>{t===Qe.left&&$(V),t===Qe.right&&v(V,Y),t===Qe.center&&(M.value.left=`${V+Y/2}px`,M.value.transform="translateX(-50%)")},a=()=>{const V=te(m);if(V){const Y=window.innerHeight,{top:H}=r?A(V):E(V),{left:W,width:G,top:z,height:S}=V.getBoundingClientRect(),b=Y-z-S;M.value.top=z>b?`${H-P}px`:`${H}px`,J(W,G)}},c=()=>{M.value.left="50%",M.value.top="50%",M.value.transform="translate(-50%, -50%)",M.value.position="fixed"},O=(V=!0)=>{if(!p){if(h.value)return c();const Y=te(m);if(r&&typeof r!="boolean")M.value=r(Y);else if(Y){const{left:H,width:W,height:G}=Y.getBoundingClientRect(),{top:z}=r?A(Y):E(Y);M.value.top=`${G+z+ +y}px`,J(H,W),V&&l&&U()}}},U=()=>{const V=te(m);if(V&&l&&!p){const{height:Y,top:H,left:W,width:G}=V.getBoundingClientRect(),{top:z}=r?A(V):E(V),b=window.innerHeight-H-Y,u=te(n);if(u){const{height:i,left:w,right:R}=u.getBoundingClientRect(),q=i+Y;q>H&&q>b?H<b?(O(!1),N.value=!1):(M.value.top=`${z-i-+y}px`,N.value=!0):q>b?(M.value.top=`${z-i-+y}px`,N.value=!0):(O(!1),N.value=!1),w<0?$(W):R>document.documentElement.clientWidth&&v(W,G)}}k("recalculatePosition")};return{openOnTop:N,menuPosition:M,setMenuPosition:O,setInitialPosition:a,recalculatePosition:U}},or=(t,r,l,n,m,p,y,h,k,M,N,P,E,A,v,$,J)=>{const a=e.ref(""),c=e.ref();e.watch(c,()=>{J("internalModelChange",c.value)});const O=u=>[W(u[0]),u[1]?W(u[1]):null],U=u=>{let i=null;u?r?hl(u)&&"hours"in u[0]&&"minutes"in u[0]?i=[ie(null,+u[0].hours,+u[0].minutes,+u[0].seconds),ie(null,+u[1].hours,+u[1].minutes,+u[1].seconds)]:yl(u)&&(i=ie(null,+u.hours,+u.minutes,+u.seconds)):l?gl(u)&&"month"in u[0]&&"year"in u[0]?(i=[Me(null,+u[0].month,+u[0].year)],u[1]?i[1]=Me(null,+u[1].month,+u[1].year):!u[1]&&m&&(i[1]=null)):kl(u)&&"month"in u&&"year"in u&&(i=Me(null,+u.month,+u.year)):E?Array.isArray(u)?i=[s.setYear(new Date,u[0]),!u[1]&&m?null:s.setYear(new Date,u[1])]:i=s.setYear(new Date,u):M&&Array.isArray(u)?i=u.map(w=>W(w)):P&&Array.isArray(u)?i=[new Date(u[0]),new Date(u[1])]:n?$?Array.isArray(u)?i=O(u):i=[W(u),null]:wl(u,m)&&(i=O(u)):bl(u)&&(i=W(u)):i=null,tt(i)?(c.value=i,Y()):(c.value=null,a.value="")},V=()=>At(t,p,h,l,r,P,E,y),Y=()=>{if(!c.value)a.value="";else if(!t||typeof t=="string"){const u=V();Array.isArray(c.value)&&M?a.value=c.value.map(i=>Ae(i,u,k==null?void 0:k.value)).join("; "):a.value=Ae(c.value,u,k==null?void 0:k.value,A==null?void 0:A.rangeSeparator,$)}else r?a.value=t(lt(c.value)):l?a.value=t(Tt(c.value)):a.value=t(c.value)},H=()=>c.value?n?m?c.value.length>=1:c.value.length===2:!!c.value:!1,W=u=>{if(N){const i=new Date(u);return N==="preserve"?new Date(i.getTime()+i.getTimezoneOffset()*6e4):i}return v?v==="date"||v==="timestamp"?new Date(u):v==="format"&&(typeof t=="string"||!t)?s.parse(u,V(),new Date):s.parse(u,v,new Date):new Date(u)},G=u=>v?v==="timestamp"?+u:v==="format"&&(typeof t=="string"||!t)?Ae(u,V(),k==null?void 0:k.value,A==null?void 0:A.rangeSeparator):Ae(u,v,k==null?void 0:k.value,A==null?void 0:A.rangeSeparator):u,z=u=>{J("update:modelValue",u)},S=()=>[G(c.value[0]),c.value[1]?G(c.value[1]):null];return{parseExternalModelValue:U,formatInputValue:Y,internalModelValue:c,inputValue:a,emitModelValue:()=>{if(l)z(Tt(c.value));else if(r)z(lt(c.value));else if(P)z(c.value);else if(E)z(Array.isArray(c.value)?[s.getYear(c.value[0]),c.value[1]?s.getYear(c.value[1]):null]:s.getYear(c.value));else{if(c.value&&n&&m&&c.value.length===1&&c.value.push(null),N){let u;if(Array.isArray(c.value)){const i=w=>w&&st(w,N==="preserve");$?u=c.value[1]?c.value.map(i):st(c.value[0],N==="preserve"):u=c.value.map(i)}else u=st(c.value,N==="preserve");return z(u)}Array.isArray(c.value)&&!M?z($?c.value[1]?S():G(c.value[0]):S()):Array.isArray(c.value)&&M?z(c.value.map(u=>G(u))):z(G(c.value))}Y()},checkBeforeEmit:H}},sr=typeof window<"u"?window:void 0,kt=()=>{},ir=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,cr=(t,r,l,n)=>{if(!t)return kt;let m=kt;const p=e.watch(()=>e.unref(t),h=>{m(),h&&(h.addEventListener(r,l,n),m=()=>{h.removeEventListener(r,l,n),m=kt})},{immediate:!0,flush:"post"}),y=()=>{p(),m()};return ir(y),y},ur=(t,r,l,n={})=>{const{window:m=sr,event:p="pointerdown"}=n;return m?cr(m,p,h=>{const k=te(t),M=te(r);!k||!M||k===h.target||h.composedPath().includes(k)||h.composedPath().includes(M)||l(h)},{passive:!0}):void 0},dr=e.defineComponent({__name:"VueDatePicker",props:{...zn},emits:["update:modelValue","textSubmit","closed","cleared","open","focus","blur","internalModelChange","recalculatePosition","flow-step","updateMonthYear","invalid-select"],setup(t,{expose:r,emit:l}){const n=t,m=e.useSlots(),p=e.ref(!1),y=e.toRef(n,"modelValue"),h=e.ref(null),k=e.ref(null),M=e.toRef(n,"teleportCenter");e.provide(it,n.autoApply);const N=e.computed(()=>n.formatLocale);e.provide(Yt,N),e.provide(It,e.toRef(n,"textInput")),e.provide(ge,e.toRef(n,"arrowNavigation")),e.onMounted(()=>{U(n.modelValue),n.inline||(window.addEventListener("scroll",D),window.addEventListener("resize",T)),n.inline&&(p.value=!0)}),e.onUnmounted(()=>{n.inline||(window.removeEventListener("scroll",D),window.removeEventListener("resize",T))});const P=Be(m,"all"),E=Be(m,"input");e.watch(y,()=>{U(y.value)},{deep:!0});const{openOnTop:A,menuPosition:v,setMenuPosition:$,recalculatePosition:J,setInitialPosition:a}=ar(n.position,n.altPosition,n.autoPosition,h,k,n.inline,n.offset,M,l),{internalModelValue:c,inputValue:O,parseExternalModelValue:U,emitModelValue:V,checkBeforeEmit:Y,formatInputValue:H}=or(n.format,n.timePicker,n.monthPicker,n.range,n.partialRange,n.is24,n.enableTimePicker,n.enableSeconds,N,n.multiDates,n.utc,n.weekPicker,n.yearPicker,n.textInputOptions,n.modelType,n.modelAuto,l),{clearArrowNav:W}=ke(),{setMenuFocused:G,setShiftKey:z}=tn(),S=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),b=e.computed(()=>Zt(n.format)?n.format:At(null,n.is24,n.enableSeconds,n.monthPicker,n.timePicker,n.weekPicker,n.yearPicker,n.enableTimePicker)),u=e.computed(()=>n.previewFormat?n.previewFormat:Zt(b.value)?b.value:n.format),i=e.computed(()=>typeof n.transitions=="boolean"?n.transitions?Xt({}):!1:Xt(n.transitions));e.provide(We,i);const w=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),R=e.computed(()=>Object.assign(el(),n.textInputOptions)),q=e.computed(()=>rl(n.ariaLabels));e.provide(he,q);const _=e.computed(()=>tl(n.filters)),Q=e.computed(()=>{const f=Z=>{const ee={hours:s.getHours(new Date),minutes:s.getMinutes(new Date),seconds:s.getSeconds(new Date)};return Object.assign(ee,Z)};return n.range?n.startTime&&Array.isArray(n.startTime)?[f(n.startTime[0]),f(n.startTime[1])]:null:n.startTime&&!Array.isArray(n.startTime)?f(n.startTime):null}),g=e.computed(()=>n.multiCalendars===null?0:typeof n.multiCalendars=="boolean"?n.multiCalendars?2:0:+n.multiCalendars>=2?+n.multiCalendars:2),D=()=>{p.value&&(n.closeOnScroll?se():n.autoPosition?$():window.removeEventListener("scroll",D))},T=()=>{p.value&&$()},le=()=>{!n.disabled&&!n.readonly&&(a(),p.value=!0,e.nextTick().then(()=>{$(),p.value&&l("open")}),p.value||$e(),U(n.modelValue))},ye=()=>{O.value="",$e(),l("update:modelValue",null),l("cleared"),se()},De=()=>{const{validate:f}=Ot(n.minDate,n.maxDate,n.disabledDates,n.allowedDates,_.value,n.disabledWeekDays,n.yearRange),Z=c.value;return!Z||!Array.isArray(Z)&&f(Z)?!0:Array.isArray(Z)?Z.length===2&&f(Z[0])&&f(Z[1])?!0:!!f(Z[0]):!1},pe=()=>{Y()&&De()?(V(),se()):l("invalid-select",c.value)},we=f=>{V(),n.closeOnAutoApply&&!f&&se()},Ce=(f=!1)=>{n.autoApply&&(!n.enableTimePicker||n.monthPicker||n.yearPicker?!0:ot(c.value,n.maxTime,n.minTime,n.maxDate,n.minDate))&&De()&&(n.range&&Array.isArray(c.value)?(n.partialRange||c.value.length===2)&&we(f):we(f))},$e=()=>{c.value=null},se=()=>{n.inline||(p.value&&(p.value=!1,G(!1),z(!1),W(),l("closed"),a(),O.value&&U(y.value)),$e(),k.value&&k.value.focusInput())},_e=(f,Z)=>{if(!f){c.value=null;return}c.value=f,Z&&(pe(),l("textSubmit"))},ve=()=>{n.autoApply&&ot(c.value,n.maxTime,n.minTime,n.maxDate,n.minDate)&&V()},Ke=()=>p.value?se():le();return ur(h,k,se),r({closeMenu:se,selectDate:pe,clearValue:ye,openMenu:le,onScroll:D,formatInputValue:H}),(f,Z)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(S))},[e.createVNode(Gn,e.mergeProps({ref_key:"inputRef",ref:k},{placeholder:f.placeholder,hideInputIcon:f.hideInputIcon,readonly:f.readonly,disabled:f.disabled,inputClassName:f.inputClassName,clearable:f.clearable,state:f.state,inline:f.inline,inlineWithInput:f.inlineWithInput,textInput:f.textInput,textInputOptions:e.unref(R),range:f.range,isMenuOpen:p.value,pattern:e.unref(b),autoApply:f.autoApply,uid:f.uid,required:f.required,name:f.name,autocomplete:f.autocomplete},{"input-value":e.unref(O),"onUpdate:input-value":Z[0]||(Z[0]=ee=>e.isRef(O)?O.value=ee:null),onClear:ye,onOpen:le,onSetInputDate:_e,onSetEmptyDate:e.unref(V),onSelectDate:pe,onToggle:Ke,onClose:se,onFocus:Z[1]||(Z[1]=ee=>f.$emit("focus")),onBlur:Z[2]||(Z[2]=ee=>f.$emit("blur"))}),e.createSlots({_:2},[e.renderList(e.unref(E),(ee,Ee)=>({name:ee,fn:e.withCtx(Ve=>[e.renderSlot(f.$slots,ee,e.normalizeProps(e.guardReactiveProps(Ve)))])}))]),1040,["input-value","onSetEmptyDate"]),p.value?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:f.teleport,disabled:f.inline},[p.value?(e.openBlock(),e.createBlock(rr,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:h,class:e.unref(w),style:e.unref(v)},{weekNumbers:f.weekNumbers,weekStart:f.weekStart,disableMonthYearSelect:f.disableMonthYearSelect,menuClassName:f.menuClassName,calendarClassName:f.calendarClassName,yearRange:f.yearRange,range:f.range,multiCalendars:e.unref(g),multiCalendarsSolo:f.multiCalendarsSolo,multiStatic:f.multiStatic,calendarCellClassName:f.calendarCellClassName,enableTimePicker:f.enableTimePicker,is24:f.is24,hoursIncrement:f.hoursIncrement,minutesIncrement:f.minutesIncrement,hoursGridIncrement:f.hoursGridIncrement,minutesGridIncrement:f.minutesGridIncrement,minDate:f.minDate,maxDate:f.maxDate,autoApply:f.autoApply,selectText:f.selectText,cancelText:f.cancelText,previewFormat:e.unref(u),locale:f.locale,weekNumName:f.weekNumName,disabledDates:f.disabledDates,filters:e.unref(_),minTime:f.minTime,maxTime:f.maxTime,inline:f.inline,openOnTop:e.unref(A),monthPicker:f.monthPicker,timePicker:f.timePicker,monthNameFormat:f.monthNameFormat,startDate:f.startDate,startTime:e.unref(Q),monthYearComponent:f.monthYearComponent,timePickerComponent:f.timePickerComponent,actionRowComponent:f.actionRowComponent,customProps:f.customProps,hideOffsetDates:f.hideOffsetDates,autoRange:f.autoRange,noToday:f.noToday,noHoursOverlay:f.noHoursOverlay,noMinutesOverlay:f.noMinutesOverlay,disabledWeekDays:f.disabledWeekDays,allowedDates:f.allowedDates,showNowButton:f.showNowButton,nowButtonLabel:f.nowButtonLabel,monthChangeOnScroll:f.monthChangeOnScroll,markers:f.markers,uid:f.uid,modeHeight:f.modeHeight,enableSeconds:f.enableSeconds,secondsIncrement:f.secondsIncrement,secondsGridIncrement:f.secondsGridIncrement,noSecondsOverlay:f.noSecondsOverlay,escClose:f.escClose,spaceConfirm:f.spaceConfirm,monthChangeOnArrows:f.monthChangeOnArrows,textInput:f.textInput,disabled:f.disabled,readonly:f.readonly,multiDates:f.multiDates,presetRanges:f.presetRanges,flow:f.flow,preventMinMaxNavigation:f.preventMinMaxNavigation,minRange:f.minRange,maxRange:f.maxRange,fixedStart:f.fixedStart,fixedEnd:f.fixedEnd,multiDatesLimit:f.multiDatesLimit,reverseYears:f.reverseYears,keepActionRow:f.keepActionRow,weekPicker:f.weekPicker,noSwipe:f.noSwipe,vertical:f.vertical,arrowNavigation:f.arrowNavigation,yearPicker:f.yearPicker,disableTimeRangeValidation:f.disableTimeRangeValidation,dayNames:f.dayNames,modelAuto:f.modelAuto,highlight:f.highlight,partialRange:f.partialRange,teleportCenter:f.teleportCenter},{internalModelValue:e.unref(c),"onUpdate:internalModelValue":Z[3]||(Z[3]=ee=>e.isRef(c)?c.value=ee:null),onClosePicker:se,onSelectDate:pe,onDpOpen:e.unref(J),onAutoApply:Ce,onTimeUpdate:ve,onFlowStep:Z[4]||(Z[4]=ee=>f.$emit("flow-step",ee)),onUpdateMonthYear:Z[5]||(Z[5]=ee=>f.$emit("updateMonthYear",ee)),onInvalidSelect:Z[6]||(Z[6]=ee=>f.$emit("invalid-select",e.unref(c)))}),e.createSlots({_:2},[e.renderList(e.unref(P),(ee,Ee)=>({name:ee,fn:e.withCtx(Ve=>[e.renderSlot(f.$slots,ee,e.normalizeProps(e.guardReactiveProps({...Ve})))])}))]),1040,["class","style","internalModelValue","onDpOpen"])):e.createCommentVNode("",!0)],8,["to","disabled"])):e.createCommentVNode("",!0)],2))}}),wt=(()=>{const t=dr;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:wt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(wt[t]=r)}),wt});
